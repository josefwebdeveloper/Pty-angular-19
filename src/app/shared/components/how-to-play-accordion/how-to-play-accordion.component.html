<div class="how-to-play-accordion">
  <div class="accordion-header" (click)="toggleAccordion()">
    <h2>How to Play</h2>
    <div class="arrow" [@rotateArrow]="isExpanded ? 'expanded' : 'collapsed'">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  </div>

  <div class="accordion-content" [@expandCollapse]="isExpanded ? 'expanded' : 'collapsed'">
    <div class="accordion-inner">
      @if (isExpanded) {
        @for (i of [1, 2, 3]; track i) {
          <div class="step" [@fadeInSteps]>
            <div class="step-number">{{i}}</div>
            <div class="step-content">
              <div class="step-text">
                @if (i === 1) {
                  <h3>Peel Off the Box</h3>
                }
                @if (i === 2) {
                  <h3>Scan Code in App</h3>
                }
                @if (i === 3) {
                  <h3>Then Peel in App</h3>
                }
                @if (i === 1) {
                  <p>For a chance to win prizes.</p>
                }
                @if (i === 2) {
                  <p>To claim prizes.</p>
                }
                @if (i === 3) {
                  <p>For a chance to play for additional prizes!</p>
                }
              </div>
              <div class="step-icon">
                @if (i === 1) {
                  <img src="assets/corn.svg" alt="Cereal box icon">
                }
                @if (i === 2) {
                  <img src="assets/phone.svg" alt="Phone scan icon">
                }
                @if (i === 3) {
                  <img src="assets/bee.svg" alt="Bee mascot icon">
                }
              </div>
            </div>
          </div>
        }
        <div class="prize-banner" [@fadeInSteps]>
          <div class="new-tag">NEW</div>
          <div class="prize-text">
            <h3>CASH PRIZE</h3>
            <h3>EVERY MINUTE<sup>^</sup></h3>
          </div>
          <div class="money-icon">
            <img src="assets/money-stack.svg" alt="Money stack icon">
          </div>
        </div>
      }
    </div>
  </div>
</div>
